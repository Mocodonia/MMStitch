<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MMStitch</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸŒ MMStitch</h1>
            <p>Create 360Â° panoramic images</p>
            <p class="debug" id="debug">Loading JavaScript...</p>
        </header>

        <div class="status-bar">
            <p class="upload-status" id="status">0/6 images uploaded</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
        </div>

        <div class="upload-grid">
            <!-- Front -->
            <div class="upload-box" id="box-front">
                <input type="file" id="input-front" accept="image/*">
                <div class="content">
                    <div class="icon">ğŸ“·</div>
                    <div class="name">Front</div>
                </div>
                <img class="thumb" id="thumb-front">
            </div>

            <!-- Back -->
            <div class="upload-box" id="box-back">
                <input type="file" id="input-back" accept="image/*">
                <div class="content">
                    <div class="icon">ğŸ“·</div>
                    <div class="name">Back</div>
                </div>
                <img class="thumb" id="thumb-back">
            </div>

            <!-- Left -->
            <div class="upload-box" id="box-left">
                <input type="file" id="input-left" accept="image/*">
                <div class="content">
                    <div class="icon">ğŸ“·</div>
                    <div class="name">Left</div>
                </div>
                <img class="thumb" id="thumb-left">
            </div>

            <!-- Right -->
            <div class="upload-box" id="box-right">
                <input type="file" id="input-right" accept="image/*">
                <div class="content">
                    <div class="icon">ğŸ“·</div>
                    <div class="name">Right</div>
                </div>
                <img class="thumb" id="thumb-right">
            </div>

            <!-- Top -->
            <div class="upload-box" id="box-top">
                <input type="file" id="input-top" accept="image/*">
                <div class="content">
                    <div class="icon">ğŸ“·</div>
                    <div class="name">Top (Optional)</div>
                </div>
                <img class="thumb" id="thumb-top">
            </div>

            <!-- Bottom -->
            <div class="upload-box" id="box-bottom">
                <input type="file" id="input-bottom" accept="image/*">
                <div class="content">
                    <div class="icon">ğŸ“·</div>
                    <div class="name">Bottom (Optional)</div>
                </div>
                <img class="thumb" id="thumb-bottom">
            </div>
        </div>

        <div class="settings">
            <label>Resolution:</label>
            <select id="resolution">
                <option value="2048">2048x1024</option>
                <option value="4096" selected>4096x2048</option>
                <option value="8192">8192x4096</option>
            </select>
        </div>

        <div class="controls">
            <button id="btn-stitch" disabled>ğŸ”„ Stitch</button>
            <button id="btn-download" disabled>ğŸ’¾ Download</button>
            <button id="btn-clear">ğŸ—‘ï¸ Clear</button>
        </div>

        <div class="preview-area">
            <h3>Preview</h3>
            <canvas id="canvas"></canvas>
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Processing...</p>
            </div>
        </div>
    </div>

    <!-- Load upload handler FIRST -->
<script src="js/upload.js"></script>

<!-- Then load stitcher -->
<script src="js/stitcher.js"></script>

</body>
</html>
